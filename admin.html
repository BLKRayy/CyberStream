<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADMIN TERMINAL // CYBERSTREAM</title>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0d1117;--p1:#1a2332;--p2:#0f1620;--cyan:#00d9ff;--yellow:#ffed4e;--green:#39ff14;--pink:#ff10f0;--blue:#5ba4cf;--text:#e0e0e0;--muted:#8b96a8}
body{background:var(--bg);color:var(--text);font-family:'Courier New',monospace;min-height:100vh;overflow-x:hidden}
.grid-bg{position:fixed;inset:0;pointer-events:none;z-index:0;background-image:linear-gradient(rgba(0,217,255,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(0,217,255,.03) 1px,transparent 1px);background-size:50px 50px}
.wrap{max-width:1600px;margin:0 auto;padding:0 2rem;position:relative;z-index:2}
/* Header */
.hdr{background:linear-gradient(135deg,#1a3a52,var(--bg));border:3px solid var(--cyan);margin:2rem 0;padding:1.5rem 2rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;box-shadow:0 0 40px rgba(0,217,255,.4)}
.hl{display:flex;align-items:center;gap:1rem}
.lightning{font-size:2.3rem;filter:drop-shadow(0 0 10px var(--yellow))}
.hl h1{font-size:2rem;color:var(--cyan);text-shadow:0 0 20px rgba(0,217,255,.8);letter-spacing:4px}
.hcontrols{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}
.pill{display:flex;align-items:center;gap:.4rem;font-size:.82rem}
.dot{width:12px;height:12px;border-radius:50%;animation:dp 2s infinite}
.dg{background:var(--green);box-shadow:0 0 12px var(--green)}
.dy{background:var(--yellow);box-shadow:0 0 12px var(--yellow)}
@keyframes dp{0%,100%{opacity:1}50%{opacity:.4}}
.abtn{padding:.6rem 1.2rem;border-radius:6px;font-family:'Courier New',monospace;font-size:.82rem;font-weight:bold;cursor:pointer;transition:all .3s;letter-spacing:1px;text-decoration:none;display:inline-flex;align-items:center;gap:.4rem}
.btn-home{background:rgba(0,217,255,.1);border:2px solid var(--cyan);color:var(--cyan)}
.btn-home:hover{background:rgba(0,217,255,.25);box-shadow:0 0 20px rgba(0,217,255,.5);transform:translateY(-2px)}
.btn-out{background:rgba(255,16,240,.12);border:2px solid var(--pink);color:var(--pink)}
.btn-out:hover{background:rgba(255,16,240,.3);box-shadow:0 0 20px rgba(255,16,240,.5);transform:translateY(-2px)}
/* Stats */
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:2rem;margin-bottom:2.5rem}
.stat{background:linear-gradient(135deg,var(--p1),var(--p2));border:2px solid var(--yellow);border-radius:8px;padding:2rem;text-align:center;transition:all .3s;cursor:default}
.stat:hover{transform:translateY(-6px);box-shadow:0 12px 40px rgba(255,237,78,.3)}
.sv{font-size:3.5rem;font-weight:bold;color:var(--yellow);text-shadow:0 0 30px rgba(255,237,78,.8);line-height:1;margin-bottom:.4rem}
.sl{font-size:.78rem;color:var(--blue);letter-spacing:3px;text-transform:uppercase}
/* Panels */
.panels{display:grid;grid-template-columns:280px 1fr 1fr 300px;gap:2rem;margin-bottom:3rem}
.panel{background:linear-gradient(135deg,var(--p1),var(--p2));border:2px solid;border-radius:12px;padding:1.8rem}
.pm{border-color:var(--blue)}.pu{border-color:var(--pink)}.pe{border-color:var(--cyan)}.ps{border-color:var(--blue)}
.ph{display:flex;align-items:center;gap:.8rem;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.08)}
.pi{font-size:1.8rem}
.ph h2{font-size:1.05rem;font-weight:bold;letter-spacing:2px;text-transform:uppercase}
/* Toggles */
.ti{display:flex;justify-content:space-between;align-items:center;padding:1.1rem;background:rgba(0,0,0,.3);border:1px solid rgba(91,164,207,.22);border-radius:8px;margin-bottom:1.1rem;transition:all .3s}
.ti:hover{border-color:var(--cyan);background:rgba(0,217,255,.06)}
.tl{font-size:.82rem;letter-spacing:1px}
.ts{position:relative;width:58px;height:28px;flex-shrink:0}
.ts input{opacity:0;width:0;height:0}
.sldr{position:absolute;cursor:pointer;inset:0;background:#1a2332;border:2px solid var(--cyan);border-radius:34px;transition:.4s}
.sldr::before{content:'';position:absolute;width:18px;height:18px;bottom:3px;left:3px;background:var(--cyan);border-radius:50%;transition:.4s;box-shadow:0 0 10px var(--cyan)}
.ts input:checked+.sldr{background:rgba(57,255,20,.18);border-color:var(--green)}
.ts input:checked+.sldr::before{transform:translateX(30px);background:var(--green);box-shadow:0 0 14px var(--green)}
.btn-apply{width:100%;padding:.95rem;background:linear-gradient(135deg,var(--blue),var(--cyan));border:none;color:var(--bg);font-family:'Courier New',monospace;font-size:.95rem;font-weight:bold;border-radius:6px;cursor:pointer;letter-spacing:2px;transition:all .3s;box-shadow:0 0 20px rgba(0,217,255,.4)}
.btn-apply:hover{transform:translateY(-2px);box-shadow:0 0 30px rgba(0,217,255,.7)}
/* Upload form */
.flabel{display:block;font-size:.72rem;color:var(--muted);letter-spacing:2px;margin-bottom:.45rem;text-transform:uppercase}
.finput{width:100%;padding:.75rem;background:rgba(0,0,0,.35);border:2px solid rgba(255,16,240,.3);color:var(--text);font-family:'Courier New',monospace;border-radius:6px;margin-bottom:1.1rem;transition:all .3s;outline:none}
.finput:focus,.finput:hover{border-color:var(--pink);box-shadow:0 0 16px rgba(255,16,240,.3);background:rgba(255,16,240,.04)}
textarea.finput{min-height:90px;resize:vertical}
.drop-zone{border:2px dashed rgba(255,16,240,.45);border-radius:8px;padding:1.8rem;text-align:center;cursor:pointer;background:rgba(255,16,240,.04);transition:all .3s;font-size:.9rem;color:var(--muted)}
.drop-zone:hover{border-color:var(--pink);background:rgba(255,16,240,.1);color:var(--pink)}
.btn-upload{width:100%;margin-top:1rem;padding:.9rem;background:linear-gradient(135deg,var(--pink),#cc00cc);border:none;color:#fff;font-family:'Courier New',monospace;font-size:.9rem;font-weight:bold;border-radius:6px;cursor:pointer;letter-spacing:2px;transition:all .3s;box-shadow:0 0 20px rgba(255,16,240,.4)}
.btn-upload:hover{transform:translateY(-2px);box-shadow:0 0 30px rgba(255,16,240,.7)}
/* Video list */
.vlist{max-height:520px;overflow-y:auto}
.vlist::-webkit-scrollbar{width:6px}
.vlist::-webkit-scrollbar-track{background:var(--p2)}
.vlist::-webkit-scrollbar-thumb{background:var(--cyan);border-radius:4px}
.vrow{display:flex;gap:.8rem;align-items:center;padding:.9rem;background:rgba(0,0,0,.3);border:1px solid rgba(0,217,255,.25);border-left:4px solid var(--cyan);border-radius:6px;margin-bottom:.9rem;transition:all .3s}
.vrow:hover{background:rgba(0,217,255,.08);border-left-width:7px}
.vthumb{width:90px;height:51px;object-fit:cover;border-radius:4px;border:1px solid var(--cyan);flex-shrink:0}
.vmeta{flex:1;min-width:0}
.vtitle{font-size:.88rem;font-weight:bold;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.2rem}
.vviews{font-size:.75rem;color:var(--muted)}
.vacts{display:flex;gap:.45rem;flex-shrink:0}
.bico{width:36px;height:36px;border-radius:6px;border:1px solid;cursor:pointer;font-size:1rem;display:flex;align-items:center;justify-content:center;transition:all .3s;background:transparent}
.be{color:#ff8c00;border-color:#ff8c00}
.be:hover{background:rgba(255,140,0,.2);box-shadow:0 0 14px rgba(255,140,0,.5);transform:scale(1.1)}
.bd{color:#8b5cf6;border-color:#8b5cf6}
.bd:hover{background:rgba(139,92,246,.2);box-shadow:0 0 14px rgba(139,92,246,.5);transform:scale(1.1)}
/* Settings */
.srow{display:flex;justify-content:space-between;align-items:center;padding:.95rem 0;border-bottom:1px solid rgba(255,255,255,.08);transition:all .3s}
.srow:last-child{border-bottom:none}
.srow:hover{padding-left:.5rem}
.slbl{font-size:.88rem}
.sval{font-size:.95rem;font-weight:bold;color:var(--green);text-shadow:0 0 10px rgba(57,255,20,.5)}
/* Toast */
.toast{position:fixed;bottom:2rem;right:2rem;z-index:9999;background:linear-gradient(135deg,var(--p1),var(--p2));border:2px solid var(--green);color:var(--green);border-radius:8px;padding:1rem 1.5rem;font-size:.9rem;letter-spacing:1px;box-shadow:0 0 30px rgba(57,255,20,.4);opacity:0;transform:translateY(20px);transition:all .4s;pointer-events:none}
.toast.show{opacity:1;transform:translateY(0)}
@media(max-width:1400px){.panels{grid-template-columns:1fr 1fr}}
@media(max-width:768px){.panels{grid-template-columns:1fr}.hdr{flex-direction:column}.wrap{padding:0 1rem}}
</style>
</head>
<body>
<div class="grid-bg"></div>

<div class="wrap">
  <header class="hdr">
    <div class="hl">
      <span class="lightning">&#9889;</span>
      <h1>ADMIN TERMINAL</h1>
    </div>
    <div class="hcontrols">
      <div class="pill"><span class="dot dg"></span>&nbsp;SYSTEM ONLINE</div>
      <div class="pill"><span class="dot dy"></span>&nbsp;CPU: 42%</div>
      <a href="index.html" class="abtn btn-home">&#8592; HOME</a>
      <button class="abtn btn-out" onclick="doLogout()">&#128682; LOGOUT</button>
    </div>
  </header>

  <div class="stats">
    <div class="stat"><div class="sv" id="sTot">18</div><div class="sl">Total Videos</div></div>
    <div class="stat"><div class="sv">8.4M</div><div class="sl">Total Views</div></div>
    <div class="stat"><div class="sv">247</div><div class="sl">Active Users</div></div>
    <div class="stat"><div class="sv">99.8%</div><div class="sl">Uptime</div></div>
  </div>

  <div class="panels">
    <!-- MAINTENANCE -->
    <div class="panel pm">
      <div class="ph"><span class="pi">&#128295;</span><h2>Maintenance Mode</h2></div>
      <div class="ti"><span class="tl">SITE STATUS</span><label class="ts"><input type="checkbox" checked id="t1"><span class="sldr"></span></label></div>
      <div class="ti"><span class="tl">ALLOW ADMIN ACCESS</span><label class="ts"><input type="checkbox" checked id="t2"><span class="sldr"></span></label></div>
      <div class="ti"><span class="tl">SHOW COUNTDOWN</span><label class="ts"><input type="checkbox" id="t3"><span class="sldr"></span></label></div>
      <button class="btn-apply" onclick="applySettings()">APPLY CHANGES</button>
    </div>

    <!-- UPLOAD -->
    <div class="panel pu">
      <div class="ph"><span class="pi">&#128190;</span><h2>Upload Video</h2></div>
      <label class="flabel">Video Title</label>
      <input type="text" class="finput" id="uTitle" placeholder="Enter video title...">
      <label class="flabel">Channel Name</label>
      <input type="text" class="finput" id="uChan" placeholder="Enter channel name...">
      <label class="flabel">Category</label>
      <select class="finput" id="uCat" style="cursor:pointer;">
        <option>Gaming</option><option>Tech</option><option>Music</option>
        <option>Education</option><option>Entertainment</option>
      </select>
      <label class="flabel">Description</label>
      <textarea class="finput" id="uDesc" placeholder="Enter video description..."></textarea>
      <div class="drop-zone" onclick="showToast('&#128193; Use URL-based upload below')">
        &#128193; FILE UPLOAD DISABLED ON STATIC HOSTING — USE URL INPUTS
      </div>
      <button class="btn-upload" onclick="handleUpload()">&#9650; UPLOAD VIDEO (BY URL)</button>
    </div>

    <!-- EDIT VIDEOS -->
    <div class="panel pe">
      <div class="ph"><span class="pi">&#9998;&#65039;</span><h2>Edit Videos</h2></div>
      <div class="vlist" id="vlist"></div>
    </div>

    <!-- SETTINGS -->
    <div class="panel ps">
      <div class="ph"><span class="pi">&#9881;&#65039;</span><h2>System Settings</h2></div>
      <div class="srow"><span class="slbl">Max Upload Size</span><span class="sval">500MB</span></div>
      <div class="srow"><span class="slbl">Video Quality</span><span class="sval">1080p</span></div>
      <div class="srow"><span class="slbl">Auto-Backup</span><span class="sval">ENABLED</span></div>
      <div class="srow"><span class="slbl">CDN Status</span><span class="sval">ACTIVE</span></div>
      <div class="srow"><span class="slbl">Cache Duration</span><span class="sval">24H</span></div>
      <div class="srow"><span class="slbl">Storage Used</span><span class="sval">184GB</span></div>
      <div class="srow"><span class="slbl">Server Region</span><span class="sval">US-EAST</span></div>
    </div>
  </div>
</div>

<!-- EDIT MODAL (centered cyber-neon) -->
<div id="editModal" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.75);z-index:9998;">
  <div style="width:420px;max-width:90%;background:linear-gradient(135deg,#1a2332,#0f1620);border:2px solid #00d9ff;box-shadow:0 0 30px rgba(0,217,255,.7);border-radius:10px;padding:1.5rem;position:relative;">
    <button onclick="closeEditModal()" style="position:absolute;top:8px;right:10px;background:transparent;border:none;color:#ff10f0;font-size:1.2rem;cursor:pointer;">✕</button>
    <h2 style="font-size:1rem;letter-spacing:2px;color:#00d9ff;margin-bottom:1rem;">EDIT VIDEO</h2>
    <label class="flabel">Video Title</label>
    <input type="text" class="finput" id="eTitle">
    <label class="flabel">Channel Name</label>
    <input type="text" class="finput" id="eChan">
    <label class="flabel">Category</label>
    <select class="finput" id="eCat" style="cursor:pointer;">
      <option>Gaming</option><option>Tech</option><option>Music</option>
      <option>Education</option><option>Entertainment</option>
    </select>
    <label class="flabel">Description</label>
    <textarea class="finput" id="eDesc"></textarea>
    <label class="flabel">Video URL</label>
    <input type="text" class="finput" id="eSrc" placeholder="https://...">
    <label class="flabel">Thumbnail URL</label>
    <input type="text" class="finput" id="eThumb" placeholder="https://...">
    <button class="btn-upload" onclick="saveEdit()">SAVE CHANGES</button>
  </div>
</div>

<div class="toast" id="toastEl"></div>

<script>
/* ── Default DB (for stats only) ── */
var DEFAULT_DB = [
  {id:"vid001",title:"Cyberpunk 2077 Ultimate Graphics Mod Showcase"},
  {id:"vid002",title:"Building a Neural Network from Scratch"},
  {id:"vid003",title:"Synthwave Music Production Tutorial"},
  {id:"vid004",title:"Quantum Computing Explained Simply"},
  {id:"vid005",title:"Apex Legends Season 20 Pro Tips"},
  {id:"vid006",title:"The Future of AI in 2026"},
  {id:"vid007",title:"Creating Electronic Music with Modular Synths"},
  {id:"vid008",title:"Introduction to Blockchain Technology"},
  {id:"vid009",title:"Sci-Fi Short Film: Neon Nights"},
  {id:"vid010",title:"Elden Ring Boss Guide: Malenia"},
  {id:"vid011",title:"Building Microservices with Kubernetes"},
  {id:"vid012",title:"Jazz Piano Improvisation Masterclass"},
  {id:"vid013",title:"Data Structures and Algorithms Crash Course"},
  {id:"vid014",title:"Behind the Scenes: VFX Breakdown"},
  {id:"vid015",title:"Valorant Ranked Guide: Iron to Radiant"},
  {id:"vid016",title:"Machine Learning Model Deployment"},
  {id:"vid017",title:"Music Theory for Producers"},
  {id:"vid018",title:"Understanding Cryptocurrency Trading"}
];

/* ── AUTH CHECK ── */
(function() {
  var ok = false;
  try { ok = (sessionStorage.getItem("csAdmin") === "yes"); } catch(e) {}
  if (!ok) { location.replace("login.html"); }
})();

/* ── Admin video storage (localStorage) ── */
function loadAdminVideos() {
  try {
    var raw = localStorage.getItem("csVideos");
    if (!raw) return [];
    var arr = JSON.parse(raw);
    if (!Array.isArray(arr)) return [];
    return arr;
  } catch(e) {
    return [];
  }
}
function saveAdminVideos(list) {
  try {
    localStorage.setItem("csVideos", JSON.stringify(list));
  } catch(e) {}
}

/* ── State ── */
var ADMIN_VIDEOS = loadAdminVideos();
var editingId = null;

/* ── Stats ── */
document.getElementById("sTot").textContent = DEFAULT_DB.length + ADMIN_VIDEOS.length;

/* ── Render admin list ── */
function renderAdminList() {
  var listHTML = "";
  for (var i = 0; i < ADMIN_VIDEOS.length; i++) {
    var v = ADMIN_VIDEOS[i];
    listHTML += '<div class="vrow">'
      + '<img class="vthumb" src="' + (v.thumbnail || 'https://placehold.co/90x51/1a2332/00d9ff?text=THUMB') + '" alt="' + v.title + '" onerror="this.src=\'https://placehold.co/90x51/1a2332/00d9ff?text=N%2FA\'">'
      + '<div class="vmeta"><div class="vtitle" title="' + v.title + '">' + v.title + '</div>'
      + '<div class="vviews">' + (v.channel || "Custom Upload") + '</div></div>'
      + '<div class="vacts">'
      + '<button class="bico be" onclick="editV(\'' + v.id + '\')" title="Edit">&#9998;</button>'
      + '<button class="bico bd" onclick="delV(\'' + v.id + '\')" title="Delete">&#128465;</button>'
      + '</div></div>';
  }
  if (!ADMIN_VIDEOS.length) {
    listHTML = '<div style="font-size:.8rem;color:#8b96a8;">No custom videos yet. Upload one on the left.</div>';
  }
  document.getElementById("vlist").innerHTML = listHTML;
}
renderAdminList();

/* ── Upload (URL-based) ── */
function handleUpload() {
  var t = document.getElementById("uTitle").value.trim();
  var ch = document.getElementById("uChan").value.trim();
  var cat = document.getElementById("uCat").value;
  var desc = document.getElementById("uDesc").value.trim();
  if (!t) { showToast("&#9888; Please enter a video title first"); return; }

  var src = prompt("Enter VIDEO URL (mp4 / stream / embed):", "");
  if (!src) { showToast("&#9888; Video URL is required"); return; }
  var thumb = prompt("Enter THUMBNAIL URL (or leave blank for placeholder):", "");

  var id = "u" + Date.now();
  var v = {
    id: id,
    title: t,
    channel: ch || "Custom Channel",
    category: cat,
    description: desc || "No description provided.",
    src: src,
    thumbnail: thumb || ""
  };
  ADMIN_VIDEOS.push(v);
  saveAdminVideos(ADMIN_VIDEOS);
  renderAdminList();
  document.getElementById("sTot").textContent = DEFAULT_DB.length + ADMIN_VIDEOS.length;
  showToast('&#10003; "' + t + '" added to library!');

  document.getElementById("uTitle").value = "";
  document.getElementById("uChan").value  = "";
  document.getElementById("uDesc").value  = "";
}

/* ── Edit / Delete ── */
function findAdminIndex(id) {
  for (var i = 0; i < ADMIN_VIDEOS.length; i++) {
    if (ADMIN_VIDEOS[i].id === id) return i;
  }
  return -1;
}

function editV(id) {
  var idx = findAdminIndex(id);
  if (idx === -1) { showToast("&#9888; Video not found"); return; }
  var v = ADMIN_VIDEOS[idx];
  editingId = id;

  document.getElementById("eTitle").value = v.title || "";
  document.getElementById("eChan").value  = v.channel || "";
  document.getElementById("eCat").value   = v.category || "Gaming";
  document.getElementById("eDesc").value  = v.description || "";
  document.getElementById("eSrc").value   = v.src || "";
  document.getElementById("eThumb").value = v.thumbnail || "";

  document.getElementById("editModal").style.display = "flex";
}

function closeEditModal() {
  editingId = null;
  document.getElementById("editModal").style.display = "none";
}

function saveEdit() {
  if (!editingId) { closeEditModal(); return; }
  var idx = findAdminIndex(editingId);
  if (idx === -1) { closeEditModal(); return; }

  var v = ADMIN_VIDEOS[idx];
  v.title      = document.getElementById("eTitle").value.trim() || v.title;
  v.channel    = document.getElementById("eChan").value.trim()  || v.channel;
  v.category   = document.getElementById("eCat").value;
  v.description= document.getElementById("eDesc").value.trim()  || v.description;
  v.src        = document.getElementById("eSrc").value.trim()   || v.src;
  v.thumbnail  = document.getElementById("eThumb").value.trim() || v.thumbnail;

  saveAdminVideos(ADMIN_VIDEOS);
  renderAdminList();
  closeEditModal();
  showToast("&#10003; Changes saved");
}

function delV(id) {
  var idx = findAdminIndex(id);
  if (idx === -1) { showToast("&#9888; Video not found"); return; }
  var v = ADMIN_VIDEOS[idx];
  if (confirm('Delete "' + v.title + '"?\nThis cannot be undone.')) {
    ADMIN_VIDEOS.splice(idx, 1);
    saveAdminVideos(ADMIN_VIDEOS);
    renderAdminList();
    document.getElementById("sTot").textContent = DEFAULT_DB.length + ADMIN_VIDEOS.length;
    showToast('&#128465; Deleted: "' + v.title + '"');
  }
}

/* ── Maintenance settings ── */
function applySettings() {
  var s = document.getElementById("t1").checked;
  var a = document.getElementById("t2").checked;
  var c = document.getElementById("t3").checked;
  showToast("&#10003; Saved! Site:" + (s ? "ONLINE" : "OFFLINE") + " Admin:" + (a ? "ON" : "OFF") + " Countdown:" + (c ? "ON" : "OFF"));
}

/* ── Logout ── */
function doLogout() {
  if (confirm("Logout of admin panel?")) {
    try { sessionStorage.removeItem("csAdmin"); } catch(e) {}
    location.href = "login.html";
  }
}

/* ── Toast ── */
var _tt;
function showToast(msg) {
  var el = document.getElementById("toastEl");
  el.innerHTML = msg;
  el.classList.add("show");
  clearTimeout(_tt);
  _tt = setTimeout(function() { el.classList.remove("show"); }, 3500);
}
</script>
</body>
</html>
